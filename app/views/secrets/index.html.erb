<% content_for :title, "Secrets Overview" %>

<h1 style="text-align: center;">Secrets Overview</h1>

<!-- Create New Secret Button -->
<div style="position: absolute; top: 80px; left: 20px;">
  <%= link_to "Create New Secret", new_secret_path, style: "padding: 5px 10px; background-color: #007bff; color: white; text-decoration: none; border-radius: 5px; font-size: 14px; display: inline-block;" %>
</div>

<div style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; margin-top: 20px;">
  <% @secrets.each do |secret| %>
    <div style="border: 1px solid #ccc; border-radius: 10px; padding: 15px; width: 300px; text-align: center; box-shadow: 2px 2px 10px rgba(0,0,0,0.1); cursor: pointer;" onclick="window.location.href='<%= secret_path(secret) %>'">
      <h2 style="font-size: 20px; margin-bottom: 10px; color: #007bff;"><%= secret.name %></h2>
      <p style="margin-bottom: 15px; font-size: 14px; color: #555;">
        <%= truncate(secret.description, length: 100) %>
      </p>
      <p style="font-size: 12px; color: #777;"><strong>Created by:</strong> <%= User.find(secret.user_id).email %></p>
    </div>
  <% end %>
</div>
